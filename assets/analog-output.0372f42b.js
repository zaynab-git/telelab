import{n as a}from"./index.cf54e893.js";import{f as u}from"./vuetify.bb113346.js";import"./vue.87a98c28.js";import"./vue3-sfc-loader.a7c67584.js";var c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{staticClass:"svggauge",attrs:{viewBox:t.vbox,preserveAspectRatio:t.ar}},[r("circle",{staticClass:"svggauge-base",attrs:{cx:"0",cy:"0",fill:"transparent",r:t.stroke_radius,stroke:t.base_color,"stroke-width":t.stroke_width,transform:t.xform,"stroke-dasharray":t.stroke_bdash}}),r("circle",{staticClass:"svggauge-stroke",attrs:{cx:"0",cy:"0",fill:"transparent",r:t.stroke_radius,stroke:t.color,"stroke-width":t.stroke_width,transform:t.xform,"stroke-dasharray":t.stroke_sdash}}),r("line",{staticClass:"svggauge-needle",attrs:{x1:t.needle_start,y1:0,x2:100,y2:0,stroke:t.needle_color,"stroke-width":"2",transform:t.nform}})])},h=[];const d={name:"SvgGauge",props:{min:{type:Number,default:0},max:{type:Number,default:100},value:{type:Number,default:30},color:{type:String,default:"--v-purple-base"},base_color:{type:String,default:"lightgrey"},needle_color:{type:String,default:"white"},radius:{type:Number,default:70},arc:{type:Number,default:270},stretch:{type:Boolean,default:!1}},computed:{frac(){let t=(this.value-this.min)/(this.max-this.min);return Math.min(1,Math.max(0,t))},stroke_width(){return 100-this.radius},stroke_radius(){return 100-this.stroke_width/2},needle_start(){return 100-1.25*this.stroke_width},circumference(){return this.stroke_radius*2*Math.PI},stroke_bdash(){return`${this.arc*this.circumference/360} ${this.circumference}`},stroke_sdash(){return`${this.arc*this.frac*this.circumference/360} ${this.circumference}`},xform(){return`rotate(${270-this.arc/2}, 0, 0)`},nform(){return`rotate(${270-this.arc/2+this.arc*this.frac}, 0, 0)`},ar(){return this.stretch?"none":"xMidYMid"},vbox(){let t=this.arc>=180?100:this.needle_start,e=(this.arc-180)/2*Math.PI/180,r=100+t*Math.sin(e),s=this.arc>=180?200:200*Math.cos(e);return`-${s/2} -100 ${s} ${r}`}}},l={};var i=a(d,c,h,!1,f,null,null,null);function f(t){for(let e in l)this[e]=l[e]}i.options.__file="src/components/svg-gauge.vue";var v=i.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gauge d-flex flex-column justify-top align-center mt-2"},[r("svg-gauge",t._b({attrs:{color:t.stateColor,value:typeof this.value=="number"&&this.value.toString()!="NaN"?t.value:0}},"svg-gauge",t.bindings,!1)),r("div",{staticClass:"label d-flex flex-column mx-auto absolute",staticStyle:{top:"40%"}},[r(u,{staticClass:"value d-flex pa-0 width100"},[r("span",{staticClass:"mx-auto"},[t._v(t._s(t.valTxt))])])],1)],1)},p=[];const _={name:"analog-output",icon:"$anlgout",help:"",components:{SvgGauge:v},props:{inputs:{type:Object,value:["value"]},value:{type:Number,default:0,dynamic:""},color:{type:String,default:"cyan",tip:"color of filled segment"}},data(){return{bindings:{min:0,max:255,needle_color:"pink",radius:75,stretch:!1,base_color:"lightgrey"}}},computed:{stateColor(){if(typeof this.value=="number"&&this.value.toString()!="NaN")return this.value<0||this.value>255?"red":this.color},valTxt(){return typeof this.value=="number"&&this.value.toString()!="NaN"?this.value>255?"too high":this.value<0?"too low":Math.round(this.value*10)/10:(this.value===null,"--")}}},o={};var n=a(_,m,p,!1,g,"14e47db0",null,null);function g(t){for(let e in o)this[e]=o[e]}n.options.__file="src/widgets/analog-output.vue";var $=n.exports;export{$ as default};
